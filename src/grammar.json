{
  "$schema": "https://tree-sitter.github.io/tree-sitter/assets/schemas/grammar.schema.json",
  "name": "autohotkey_v2",
  "word": "name",
  "rules": {
    "source_file": {
      "type": "REPEAT",
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "CHOICE",
            "members": [
              {
                "type": "SYMBOL",
                "name": "directive"
              },
              {
                "type": "SYMBOL",
                "name": "hotkey"
              },
              {
                "type": "SYMBOL",
                "name": "label"
              }
            ]
          },
          {
            "type": "PATTERN",
            "value": "\\r?\\n",
            "flags": "i"
          }
        ]
      }
    },
    "directive": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_clipboard_timeout_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_dll_load_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_error_std_out_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_hot_if_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_hot_if_timeout_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_hotstring_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_include_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_include_again_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_input_level_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_max_threads_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_max_threads_buffer_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_max_threads_per_hotkey_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_no_tray_icon_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_requires_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_single_instance_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_suspend_exempt_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_use_hook_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_warn_directive"
        },
        {
          "type": "SYMBOL",
          "name": "_win_activate_force_directive"
        }
      ]
    },
    "_clipboard_timeout_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#ClipboardTimeout",
          "flags": "i"
        },
        {
          "type": "SYMBOL",
          "name": "integer"
        }
      ]
    },
    "_dll_load_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#DllLoad",
          "flags": "i"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_directive_string"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "_error_std_out_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#ErrorStdOut",
          "flags": "i"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_directive_string"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "_hot_if_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#HotIf",
          "flags": "i"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_expression"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "_hot_if_timeout_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#HotIfTimeout",
          "flags": "i"
        },
        {
          "type": "SYMBOL",
          "name": "integer"
        }
      ]
    },
    "_hotstring_directive": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "PATTERN",
              "value": "#Hotstring",
              "flags": "i"
            },
            {
              "type": "PATTERN",
              "value": "NoMouse",
              "flags": "i"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "PATTERN",
              "value": "#Hotstring",
              "flags": "i"
            },
            {
              "type": "PATTERN",
              "value": "EndChars",
              "flags": "i"
            },
            {
              "type": "IMMEDIATE_TOKEN",
              "content": {
                "type": "PATTERN",
                "value": " ",
                "flags": "i"
              }
            },
            {
              "type": "ALIAS",
              "content": {
                "type": "REPEAT1",
                "content": {
                  "type": "CHOICE",
                  "members": [
                    {
                      "type": "PATTERN",
                      "value": "[^`\\r\\n]",
                      "flags": "i"
                    },
                    {
                      "type": "SYMBOL",
                      "name": "escape"
                    }
                  ]
                }
              },
              "named": true,
              "value": "string"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "PATTERN",
              "value": "#Hotstring",
              "flags": "i"
            },
            {
              "type": "ALIAS",
              "content": {
                "type": "REPEAT",
                "content": {
                  "type": "SYMBOL",
                  "name": "_hotstring_option"
                }
              },
              "named": true,
              "value": "string"
            }
          ]
        }
      ]
    },
    "_include_directive": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "PATTERN",
              "value": "#Include",
              "flags": "i"
            },
            {
              "type": "PATTERN",
              "value": "<",
              "flags": "i"
            },
            {
              "type": "ALIAS",
              "content": {
                "type": "IMMEDIATE_TOKEN",
                "content": {
                  "type": "PATTERN",
                  "value": "[\\w\\\\.]+",
                  "flags": "i"
                }
              },
              "named": true,
              "value": "string"
            },
            {
              "type": "PATTERN",
              "value": ">",
              "flags": "i"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "PATTERN",
              "value": "#Include",
              "flags": "i"
            },
            {
              "type": "ALIAS",
              "content": {
                "type": "PATTERN",
                "value": "[^\\r\\n\"' <>][^\\r\\n\"'<>]*|\"[^\\r\\n\"]*\"",
                "flags": "i"
              },
              "named": true,
              "value": "string"
            }
          ]
        }
      ]
    },
    "_include_again_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#IncludeAgain",
          "flags": "i"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "PATTERN",
            "value": "[^\\r\\n\"' <>][^\\r\\n\"'<>]*|\"[^\\r\\n\"]*\"",
            "flags": "i"
          },
          "named": true,
          "value": "string"
        }
      ]
    },
    "_input_level_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#InputLevel",
          "flags": "i"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "integer"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "_max_threads_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#MaxThreads",
          "flags": "i"
        },
        {
          "type": "SYMBOL",
          "name": "integer"
        }
      ]
    },
    "_max_threads_buffer_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#MaxThreadsBuffer",
          "flags": "i"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_directive_boolean"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "_max_threads_per_hotkey_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#MaxThreadsPerHotkey",
          "flags": "i"
        },
        {
          "type": "SYMBOL",
          "name": "integer"
        }
      ]
    },
    "_no_tray_icon_directive": {
      "type": "PATTERN",
      "value": "#NoTrayIcon",
      "flags": "i"
    },
    "_requires_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#Requires",
          "flags": "i"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_directive_string"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "_single_instance_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#SingleInstance",
          "flags": "i"
        },
        {
          "type": "PATTERN",
          "value": "Force|Ignore|Prompt|Off",
          "flags": "i"
        }
      ]
    },
    "_suspend_exempt_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#SuspendExempt",
          "flags": "i"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_directive_boolean"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "_use_hook_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#UseHook",
          "flags": "i"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_directive_boolean"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "_warn_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#Warn",
          "flags": "i"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "PATTERN",
                  "value": "VarUnset|LocalSameAsGlobal|Unreachable|All",
                  "flags": "i"
                },
                {
                  "type": "CHOICE",
                  "members": [
                    {
                      "type": "SEQ",
                      "members": [
                        {
                          "type": "PATTERN",
                          "value": ",",
                          "flags": "i"
                        },
                        {
                          "type": "PATTERN",
                          "value": "MsgBox|StdOut|OutputDebug|Off",
                          "flags": "i"
                        }
                      ]
                    },
                    {
                      "type": "BLANK"
                    }
                  ]
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "_win_activate_force_directive": {
      "type": "PATTERN",
      "value": "#WinActivateForce",
      "flags": "i"
    },
    "_directive_string": {
      "type": "ALIAS",
      "content": {
        "type": "PATTERN",
        "value": "[^\\r\\n\"' ][^\\r\\n\"']*|\"[^\\r\\n\"]*\"",
        "flags": "i"
      },
      "named": true,
      "value": "string"
    },
    "_directive_boolean": {
      "type": "ALIAS",
      "content": {
        "type": "PATTERN",
        "value": "true|false|0|1",
        "flags": "i"
      },
      "named": true,
      "value": "boolean"
    },
    "hotkey": {
      "type": "SEQ",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "REPEAT",
            "content": {
              "type": "SYMBOL",
              "name": "_hotkey_modifier_prefix"
            }
          },
          "named": false,
          "value": "modifiers"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "SYMBOL",
            "name": "_hotkey_trigger"
          },
          "named": false,
          "value": "trigger"
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "SYMBOL",
                "name": "_hotkey_modifier_suffix"
              },
              {
                "type": "BLANK"
              }
            ]
          },
          "named": false,
          "value": "modifiers"
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "PATTERN",
            "value": "::",
            "flags": "i"
          }
        }
      ]
    },
    "_hotkey_modifier_prefix": {
      "type": "PATTERN",
      "value": "[<>]?[#!^+]|[*~$]",
      "flags": "i"
    },
    "_hotkey_trigger": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "name"
        },
        {
          "type": "PATTERN",
          "value": "[^\\r\\n:]",
          "flags": "i"
        }
      ]
    },
    "_hotkey_modifier_suffix": {
      "type": "PATTERN",
      "value": "up",
      "flags": "i"
    },
    "label": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "name"
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "PATTERN",
            "value": ":",
            "flags": "i"
          }
        }
      ]
    },
    "_hotstring_option": {
      "type": "PATTERN",
      "value": "[*?BCORSTXZ]0?|C1|P\\d+|S[IPE]",
      "flags": "i"
    },
    "_expression": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "integer"
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "name": {
      "type": "PATTERN",
      "value": "[a-z_][a-z0-9_]*",
      "flags": "i"
    },
    "string": {
      "type": "PATTERN",
      "value": "\"[^\\r\\n]\"",
      "flags": "i"
    },
    "escape": {
      "type": "PATTERN",
      "value": "`[`;:{nrbtsvaf\"']",
      "flags": "i"
    },
    "integer": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_decimal_integer"
        },
        {
          "type": "SYMBOL",
          "name": "_hexadecimal_integer"
        }
      ]
    },
    "_decimal_integer": {
      "type": "PATTERN",
      "value": "\\d+",
      "flags": "i"
    },
    "_hexadecimal_integer": {
      "type": "PATTERN",
      "value": "0x\\d+",
      "flags": "i"
    },
    "boolean": {
      "type": "PATTERN",
      "value": "true|false",
      "flags": "i"
    }
  },
  "extras": [
    {
      "type": "PATTERN",
      "value": "[ \\t]+",
      "flags": "i"
    }
  ],
  "conflicts": [],
  "precedences": [],
  "externals": [],
  "inline": [],
  "supertypes": [],
  "reserved": {}
}